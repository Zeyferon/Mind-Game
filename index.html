<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mind Matrix: AI Knowledge Challenge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        :root {
            --primary: #6C63FF;
            --primary-light: #8A84FF;
            --secondary: #FF6584;
            --accent: #36D1DC;
            --accent2: #FF9D76;
            --light: #F8F9FF;
            --dark: #2D3047;
            --success: #4CAF50;
            --warning: #FF9800;
            --shadow: 0 10px 30px rgba(108, 99, 255, 0.15);
            --transition: all 0.3s ease;
        }

        body {
            background: linear-gradient(135deg, #F8F9FF 0%, #E8EAFF 100%);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 1300px;
            width: 100%;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .language-selector {
            position: absolute;
            top: 0;
            right: 0;
            display: flex;
            gap: 10px;
            background: white;
            padding: 10px 15px;
            border-radius: 50px;
            box-shadow: var(--shadow);
            z-index: 10;
        }

        .lang-btn {
            background: none;
            border: none;
            font-size: 0.9rem;
            font-weight: 600;
            padding: 5px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--dark);
        }

        .lang-btn.active {
            background: var(--primary);
            color: white;
        }

        .lang-btn:hover:not(.active) {
            background: rgba(108, 99, 255, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .logo-icon {
            font-size: 2.8rem;
            color: var(--primary);
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent2));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        .tagline {
            font-size: 1.2rem;
            color: var(--dark);
            opacity: 0.8;
            max-width: 700px;
            margin: 0 auto 20px;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            background: white;
            border-radius: 18px;
            padding: 18px 30px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .stat-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: white;
        }

        .stat-icon.score { background: linear-gradient(135deg, var(--primary), var(--primary-light)); }
        .stat-icon.questions { background: linear-gradient(135deg, var(--secondary), #FF9E7D); }
        .stat-icon.correct { background: linear-gradient(135deg, var(--success), #8BC34A); }
        .stat-icon.streak { background: linear-gradient(135deg, var(--accent), #5B86E5); }
        .stat-icon.time { background: linear-gradient(135deg, var(--accent2), #FF9D76); }

        .stat-info h3 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--dark);
            line-height: 1;
        }

        .stat-info p {
            font-size: 0.9rem;
            color: #666;
        }

        .game-container {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 35px;
            margin-bottom: 40px;
        }

        @media (max-width: 1000px) {
            .game-container {
                grid-template-columns: 1fr;
            }
        }

        .ai-sidebar {
            background: white;
            border-radius: 24px;
            padding: 30px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .ai-sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--accent2));
        }

        .ai-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .ai-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            box-shadow: 0 10px 25px rgba(108, 99, 255, 0.4);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .ai-info h3 {
            font-size: 1.6rem;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .ai-info p {
            color: #666;
            font-size: 0.95rem;
        }

        .ai-message-container {
            background: #F8F9FF;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            flex-grow: 1;
            position: relative;
            overflow: hidden;
        }

        .ai-message-container::before {
            content: '"';
            position: absolute;
            top: 10px;
            left: 15px;
            font-size: 5rem;
            color: rgba(108, 99, 255, 0.1);
            font-family: Georgia, serif;
            line-height: 1;
        }

        .ai-message {
            font-size: 1.2rem;
            line-height: 1.6;
            color: var(--dark);
            position: relative;
            z-index: 1;
        }

        .ai-personality {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .personality-tag {
            background: rgba(108, 99, 255, 0.1);
            color: var(--primary);
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .question-container {
            background: white;
            border-radius: 24px;
            padding: 35px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .question-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--secondary), #FF9E7D);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .question-number {
            font-size: 1.1rem;
            color: var(--primary);
            background: #F0F2FF;
            padding: 10px 22px;
            border-radius: 50px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .question-category {
            font-size: 1.1rem;
            color: white;
            padding: 10px 22px;
            border-radius: 50px;
            font-weight: 600;
            background: linear-gradient(135deg, var(--secondary), #FF9E7D);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .question-text {
            font-size: 1.6rem;
            line-height: 1.5;
            margin-bottom: 30px;
            color: var(--dark);
            font-weight: 500;
            padding: 10px 0;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            background: #F8F9FF;
            border: 2px solid #E8EAFF;
            border-radius: 18px;
            padding: 22px;
            display: flex;
            align-items: center;
            gap: 18px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            transform: translateX(10px);
            border-color: var(--primary-light);
            background: white;
            box-shadow: 0 8px 20px rgba(108, 99, 255, 0.1);
        }

        .option.selected {
            border-color: var(--primary);
            background: rgba(108, 99, 255, 0.05);
        }

        .option.correct {
            border-color: var(--success);
            background: rgba(76, 175, 80, 0.05);
        }

        .option.incorrect {
            border-color: var(--warning);
            background: rgba(255, 152, 0, 0.05);
        }

        .option-letter {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            color: var(--primary);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            flex-shrink: 0;
            transition: var(--transition);
        }

        .option.selected .option-letter {
            background: var(--primary);
            color: white;
        }

        .option-text {
            font-size: 1.2rem;
            font-weight: 500;
            flex-grow: 1;
        }

        .option-check {
            opacity: 0;
            color: var(--success);
            font-size: 1.3rem;
            transition: var(--transition);
        }

        .option.correct .option-check {
            opacity: 1;
        }

        .action-buttons {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .btn {
            padding: 18px 32px;
            border-radius: 16px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex: 1;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: 0 10px 25px rgba(108, 99, 255, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(108, 99, 255, 0.4);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid #E8EAFF;
        }

        .btn-secondary:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        .feedback-container {
            margin-top: 25px;
            padding: 25px;
            border-radius: 18px;
            background: #F8F9FF;
            display: none;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .feedback-container.show {
            display: block;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .feedback-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .feedback-icon.correct {
            background: linear-gradient(135deg, var(--success), #8BC34A);
            box-shadow: 0 6px 15px rgba(76, 175, 80, 0.3);
        }

        .feedback-icon.incorrect {
            background: linear-gradient(135deg, var(--warning), #FFB74D);
            box-shadow: 0 6px 15px rgba(255, 152, 0, 0.3);
        }

        .feedback-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--dark);
        }

        .feedback-text {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #555;
        }

        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.07;
            animation: floatShape 25s infinite linear;
            filter: blur(1px);
        }

        .shape-1 {
            width: 400px;
            height: 400px;
            background: var(--primary);
            top: 5%;
            left: 5%;
            animation-delay: 0s;
            animation-duration: 30s;
        }

        .shape-2 {
            width: 300px;
            height: 300px;
            background: var(--secondary);
            bottom: 10%;
            right: 8%;
            animation-delay: -5s;
            animation-duration: 35s;
        }

        .shape-3 {
            width: 250px;
            height: 250px;
            background: var(--accent);
            top: 40%;
            left: 80%;
            animation-delay: -10s;
            animation-duration: 40s;
        }

        .shape-4 {
            width: 200px;
            height: 200px;
            background: var(--accent2);
            bottom: 30%;
            left: 15%;
            animation-delay: -15s;
            animation-duration: 45s;
        }

        @keyframes floatShape {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(20px, -40px) rotate(90deg);
            }
            50% {
                transform: translate(-30px, 20px) rotate(180deg);
            }
            75% {
                transform: translate(40px, 30px) rotate(270deg);
            }
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #E8EAFF;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--accent2));
            border-radius: 6px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.95rem;
            color: #666;
        }

        .game-complete {
            display: none;
            text-align: center;
            padding: 50px 30px;
            background: white;
            border-radius: 24px;
            box-shadow: var(--shadow);
            margin-top: 40px;
            animation: fadeIn 0.8s ease;
        }

        .game-complete.show {
            display: block;
        }

        .trophy-icon {
            font-size: 6rem;
            color: #FFD700;
            margin-bottom: 25px;
            animation: bounce 2s infinite;
            text-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-25px); }
        }

        .result-title {
            font-size: 2.8rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 800;
        }

        .result-score {
            font-size: 4.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent2));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 20px;
        }

        .result-details {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .result-item {
            background: #F8F9FF;
            padding: 20px;
            border-radius: 16px;
            min-width: 150px;
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .result-label {
            font-size: 1rem;
            color: #666;
        }

        .result-message {
            font-size: 1.3rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto 40px;
            line-height: 1.6;
        }

        .restart-btn {
            background: linear-gradient(135deg, var(--secondary), #FF9E7D);
            color: white;
            border: none;
            padding: 20px 50px;
            border-radius: 18px;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 10px 25px rgba(255, 101, 132, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }

        .restart-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 101, 132, 0.4);
        }

        .category-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .category-btn {
            background: white;
            border: 2px solid #E8EAFF;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            color: var(--dark);
        }

        .category-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .category-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.3rem;
            }
            
            .stats-bar {
                padding: 15px;
            }
            
            .stat-info h3 {
                font-size: 1.5rem;
            }
            
            .game-container {
                gap: 25px;
            }
            
            .ai-sidebar, .question-container {
                padding: 25px;
            }
            
            .question-text {
                font-size: 1.4rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .result-title {
                font-size: 2.2rem;
            }
            
            .result-score {
                font-size: 3.5rem;
            }
            
            .language-selector {
                position: relative;
                margin-bottom: 15px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Floating background shapes -->
    <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
    </div>

    <div class="container">
        <header>
            <!-- Language Selector -->
            <div class="language-selector">
                <button class="lang-btn active" data-lang="en">English</button>
                <button class="lang-btn" data-lang="fr">Fran√ßais</button>
                <button class="lang-btn" data-lang="ru">–†—É—Å—Å–∫–∏–π</button>
            </div>
            
            <div class="logo">
                <i class="fas fa-brain logo-icon"></i>
                <h1 id="gameTitle">Mind Matrix</h1>
            </div>
            <p class="tagline" id="gameTagline">Challenge your mind with 100+ AI-generated questions. Test your knowledge across diverse topics!</p>
            
            <!-- Category selector -->
            <div class="category-selector" id="categorySelector">
                <!-- Categories will be added by JavaScript -->
            </div>
            
            <!-- Progress bar -->
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text">
                    <span id="progressText">Question <span id="currentQuestionNum">1</span> of <span id="totalQuestions">10</span></span>
                    <span id="progressPercent">0%</span>
                </div>
            </div>
        </header>

        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-icon score">
                    <i class="fas fa-star"></i>
                </div>
                <div class="stat-info">
                    <h3 id="scoreValue">0</h3>
                    <p id="scoreLabel">Score</p>
                </div>
            </div>
            
            <div class="stat-item">
                <div class="stat-icon questions">
                    <i class="fas fa-question-circle"></i>
                </div>
                <div class="stat-info">
                    <h3 id="questionCount">1/10</h3>
                    <p id="questionsLabel">Questions</p>
                </div>
            </div>
            
            <div class="stat-item">
                <div class="stat-icon correct">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-info">
                    <h3 id="correctCount">0</h3>
                    <p id="correctLabel">Correct</p>
                </div>
            </div>
            
            <div class="stat-item">
                <div class="stat-icon streak">
                    <i class="fas fa-fire"></i>
                </div>
                <div class="stat-info">
                    <h3 id="streakCount">0</h3>
                    <p id="streakLabel">Streak</p>
                </div>
            </div>
            
            <div class="stat-item">
                <div class="stat-icon time">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                    <h3 id="timeValue">60s</h3>
                    <p id="timeLabel">Time Left</p>
                </div>
            </div>
        </div>

        <div class="game-container">
            <!-- AI Sidebar -->
            <div class="ai-sidebar">
                <div class="ai-header">
                    <div class="ai-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="ai-info">
                        <h3 id="aiName">AI QuizMaster</h3>
                        <p id="aiDescription">Your knowledge companion</p>
                    </div>
                </div>
                
                <div class="ai-message-container">
                    <div class="ai-message" id="aiMessage">
                        Welcome to Mind Matrix! I'll guide you through 10 challenging questions. Let's see how much you know!
                    </div>
                    
                    <div class="ai-personality">
                        <div class="personality-tag" id="personality1">Helpful</div>
                        <div class="personality-tag" id="personality2">Encouraging</div>
                        <div class="personality-tag" id="personality3">Knowledgeable</div>
                        <div class="personality-tag" id="personality4">Fun</div>
                    </div>
                </div>
                
                <div class="stats-bar" style="margin-top: auto; padding: 15px; background: #F8F9FF;">
                    <div style="text-align: center; width: 100%;">
                        <h3 style="color: var(--primary); margin-bottom: 5px;" id="gameStatsTitle">Game Stats</h3>
                        <p style="color: #666; font-size: 0.9rem;" id="gameStatsText">Best Streak: <span id="bestStreak">0</span> | Accuracy: <span id="accuracyRate">0%</span></p>
                    </div>
                </div>
            </div>

            <!-- Question Container -->
            <div class="question-container">
                <div class="question-header">
                    <div class="question-number">
                        <i class="fas fa-hashtag"></i>
                        <span id="questionNumber">Question 1</span>
                    </div>
                    <div class="question-category">
                        <i class="fas fa-tag"></i>
                        <span id="questionCategory">General Knowledge</span>
                    </div>
                </div>
                
                <div class="question-text" id="questionText">
                    What is the chemical symbol for gold?
                </div>
                
                <div class="options-container" id="optionsContainer">
                    <!-- Options will be generated by JavaScript -->
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-secondary" id="hintBtn">
                        <i class="fas fa-lightbulb"></i> <span id="hintBtnText">Get Hint</span>
                    </button>
                    <button class="btn btn-primary" id="submitBtn" disabled>
                        <i class="fas fa-paper-plane"></i> <span id="submitBtnText">Submit Answer</span>
                    </button>
                    <button class="btn btn-secondary" id="nextBtn" style="display: none;">
                        <i class="fas fa-arrow-right"></i> <span id="nextBtnText">Next Question</span>
                    </button>
                </div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <!-- Feedback will be shown here -->
                </div>
            </div>
        </div>

        <!-- Game Complete Screen -->
        <div class="game-complete" id="gameComplete">
            <div class="trophy-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <h2 class="result-title" id="resultTitle">Quiz Complete!</h2>
            <div class="result-score" id="finalScore">0/100</div>
            
            <div class="result-details">
                <div class="result-item">
                    <div class="result-value" id="finalCorrect">0</div>
                    <div class="result-label" id="finalCorrectLabel">Correct Answers</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalAccuracy">0%</div>
                    <div class="result-label" id="finalAccuracyLabel">Accuracy</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalStreak">0</div>
                    <div class="result-label" id="finalStreakLabel">Best Streak</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalTime">0s</div>
                    <div class="result-label" id="finalTimeLabel">Time Used</div>
                </div>
            </div>
            
            <p class="result-message" id="resultMessage">
                You're a knowledge novice. Keep learning and try again!
            </p>
            
            <button class="restart-btn" id="restartBtn">
                <i class="fas fa-redo"></i> <span id="restartBtnText">Play Again</span>
            </button>
        </div>
    </div>

    <script>
        // Language data
        const translations = {
            en: {
                // UI Elements
                gameTitle: "Mind Matrix",
                gameTagline: "Challenge your mind with 100+ AI-generated questions. Test your knowledge across diverse topics!",
                scoreLabel: "Score",
                questionsLabel: "Questions",
                correctLabel: "Correct",
                streakLabel: "Streak",
                timeLabel: "Time Left",
                aiName: "AI QuizMaster",
                aiDescription: "Your knowledge companion",
                personality1: "Helpful",
                personality2: "Encouraging",
                personality3: "Knowledgeable",
                personality4: "Fun",
                gameStatsTitle: "Game Stats",
                gameStatsText: "Best Streak: {0} | Accuracy: {1}",
                hintBtnText: "Get Hint",
                submitBtnText: "Submit Answer",
                nextBtnText: "Next Question",
                progressText: "Question {0} of {1}",
                resultTitle: "Quiz Complete!",
                finalCorrectLabel: "Correct Answers",
                finalAccuracyLabel: "Accuracy",
                finalStreakLabel: "Best Streak",
                finalTimeLabel: "Time Used",
                restartBtnText: "Play Again",
                
                // AI Messages
                aiIntro: "Welcome to Mind Matrix! I'll guide you through 10 challenging questions. Let's see how much you know!",
                aiCorrect: ["Excellent! You're really smart!", "Well done! You know your stuff!", "Perfect! You're on fire!", "Brilliant! That's the right answer!", "Outstanding! You nailed it!", "Fantastic! Keep up the great work!"],
                aiIncorrect: ["Good try! The correct answer was: ", "Not quite! The right answer is: ", "Almost! Actually, it's: ", "Good effort! The correct answer is: ", "Close! The correct answer was: ", "Nice try! Actually: "],
                aiHint: "Here's a hint: ",
                aiStreak: ["Amazing streak! Keep going!", "You're unstoppable!", "On a roll! Don't stop now!", "Fantastic! That's a great streak!", "Incredible! You're crushing it!", "üî• Hot streak! Keep it up!"],
                aiFinal: {
                    low: "You're a knowledge novice. Keep learning and try again! You'll do better next time!",
                    medium: "Good job! You have decent knowledge across topics. With a bit more practice, you'll be a trivia master!",
                    high: "Excellent! You're a true trivia master! Your knowledge is impressive across many subjects.",
                    perfect: "Perfect score! You're a genius! Teach me your ways! Are you sure you're not an AI yourself?"
                },
                
                // Category Names
                categories: {
                    "General Knowledge": "General Knowledge",
                    "Science & Technology": "Science & Technology",
                    "History & Geography": "History & Geography",
                    "Mathematics & Logic": "Mathematics & Logic",
                    "Literature & Arts": "Literature & Arts",
                    "Sports & Entertainment": "Sports & Entertainment",
                    "Biology & Medicine": "Biology & Medicine",
                    "Food & Drink": "Food & Drink",
                    "Pop Culture": "Pop Culture",
                    "Random Facts": "Random Facts"
                }
            },
            
            fr: {
                // UI Elements
                gameTitle: "Matrice Mentale",
                gameTagline: "D√©fiez votre esprit avec plus de 100 questions g√©n√©r√©es par IA. Testez vos connaissances sur divers sujets !",
                scoreLabel: "Score",
                questionsLabel: "Questions",
                correctLabel: "Correct",
                streakLabel: "S√©rie",
                timeLabel: "Temps Restant",
                aiName: "Ma√Ætre Quiz IA",
                aiDescription: "Votre compagnon de connaissances",
                personality1: "Utile",
                personality2: "Encourageant",
                personality3: "Savant",
                personality4: "Amusant",
                gameStatsTitle: "Statistiques",
                gameStatsText: "Meilleure s√©rie : {0} | Pr√©cision : {1}",
                hintBtnText: "Obtenir un indice",
                submitBtnText: "Soumettre la r√©ponse",
                nextBtnText: "Question suivante",
                progressText: "Question {0} sur {1}",
                resultTitle: "Quiz termin√© !",
                finalCorrectLabel: "R√©ponses correctes",
                finalAccuracyLabel: "Pr√©cision",
                finalStreakLabel: "Meilleure s√©rie",
                finalTimeLabel: "Temps utilis√©",
                restartBtnText: "Rejouer",
                
                // AI Messages
                aiIntro: "Bienvenue dans Matrice Mentale ! Je vais vous guider √† travers 10 questions stimulantes. Voyons ce que vous savez !",
                aiCorrect: ["Excellent ! Vous √™tes vraiment intelligent !", "Bien jou√© ! Vous ma√Ætrisez le sujet !", "Parfait ! Vous √™tes en feu !", "Brillant ! C'est la bonne r√©ponse !", "Exceptionnel ! Vous avez r√©ussi !", "Fantastique ! Continuez comme √ßa !"],
                aiIncorrect: ["Bien essay√© ! La bonne r√©ponse √©tait : ", "Pas tout √† fait ! La bonne r√©ponse est : ", "Presque ! En fait, c'est : ", "Bon effort ! La bonne r√©ponse est : ", "Proche ! La bonne r√©ponse √©tait : ", "Bien essay√© ! En r√©alit√© : "],
                aiHint: "Voici un indice : ",
                aiStreak: ["S√©rie incroyable ! Continuez !", "Vous √™tes imbattable !", "En plein √©lan ! Ne vous arr√™tez pas !", "Fantastique ! C'est une super s√©rie !", "Incroyable ! Vous dominez !", "üî• S√©rie chaude ! Continuez !"],
                aiFinal: {
                    low: "Vous √™tes un novice en connaissances. Continuez √† apprendre et r√©essayez ! Vous ferez mieux la prochaine fois !",
                    medium: "Bon travail ! Vous avez de bonnes connaissances sur divers sujets. Avec un peu plus de pratique, vous deviendrez un ma√Ætre du trivia !",
                    high: "Excellent ! Vous √™tes un vrai ma√Ætre du trivia ! Vos connaissances sont impressionnantes dans de nombreux domaines.",
                    perfect: "Score parfait ! Vous √™tes un g√©nie ! Apprenez-moi vos m√©thodes ! √ätes-vous s√ªr de ne pas √™tre une IA vous-m√™me ?"
                },
                
                // Category Names
                categories: {
                    "General Knowledge": "Culture G√©n√©rale",
                    "Science & Technology": "Science & Technologie",
                    "History & Geography": "Histoire & G√©ographie",
                    "Mathematics & Logic": "Math√©matiques & Logique",
                    "Literature & Arts": "Litt√©rature & Arts",
                    "Sports & Entertainment": "Sports & Divertissement",
                    "Biology & Medicine": "Biologie & M√©decine",
                    "Food & Drink": "Nourriture & Boissons",
                    "Pop Culture": "Culture Pop",
                    "Random Facts": "Faits Divers"
                }
            },
            
            ru: {
                // UI Elements
                gameTitle: "–ú–∞—Ç—Ä–∏—Ü–∞ –†–∞–∑—É–º–∞",
                gameTagline: "–ò—Å–ø—ã—Ç–∞–π—Ç–µ —Å–≤–æ–π —É–º —Å –±–æ–ª–µ–µ —á–µ–º 100 –≤–æ–ø—Ä–æ—Å–∞–º–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ –ò–ò. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö!",
                scoreLabel: "–°—á–µ—Ç",
                questionsLabel: "–í–æ–ø—Ä–æ—Å—ã",
                correctLabel: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ",
                streakLabel: "–°–µ—Ä–∏—è",
                timeLabel: "–û—Å—Ç–∞–ª–æ—Å—å –í—Ä–µ–º–µ–Ω–∏",
                aiName: "–ò–ò –í–∏–∫—Ç–æ—Ä–∏–Ω–∞",
                aiDescription: "–í–∞—à –∫–æ–º–ø–∞–Ω—å–æ–Ω –ø–æ –∑–Ω–∞–Ω–∏—è–º",
                personality1: "–ü–æ–ª–µ–∑–Ω—ã–π",
                personality2: "–û–±–æ–¥—Ä—è—é—â–∏–π",
                personality3: "–ó–Ω–∞—é—â–∏–π",
                personality4: "–í–µ—Å–µ–ª—ã–π",
                gameStatsTitle: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                gameStatsText: "–õ—É—á—à–∞—è —Å–µ—Ä–∏—è: {0} | –¢–æ—á–Ω–æ—Å—Ç—å: {1}",
                hintBtnText: "–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É",
                submitBtnText: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç",
                nextBtnText: "–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å",
                progressText: "–í–æ–ø—Ä–æ—Å {0} –∏–∑ {1}",
                resultTitle: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!",
                finalCorrectLabel: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã",
                finalAccuracyLabel: "–¢–æ—á–Ω–æ—Å—Ç—å",
                finalStreakLabel: "–õ—É—á—à–∞—è —Å–µ—Ä–∏—è",
                finalTimeLabel: "–í—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ",
                restartBtnText: "–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞",
                
                // AI Messages
                aiIntro: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú–∞—Ç—Ä–∏—Ü—É –†–∞–∑—É–º–∞! –Ø –ø—Ä–æ–≤–µ–¥—É –≤–∞—Å —á–µ—Ä–µ–∑ 10 —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤. –ü–æ—Å–º–æ—Ç—Ä–∏–º, —Å–∫–æ–ª—å–∫–æ –≤—ã –∑–Ω–∞–µ—Ç–µ!",
                aiCorrect: ["–û—Ç–ª–∏—á–Ω–æ! –í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–º–Ω—ã!", "–ú–æ–ª–æ–¥–µ—Ü! –í—ã –∑–Ω–∞–µ—Ç–µ —Å–≤–æ–µ –¥–µ–ª–æ!", "–ò–¥–µ–∞–ª—å–Ω–æ! –í—ã –≤ —É–¥–∞—Ä–µ!", "–ë–ª–µ—Å—Ç—è—â–µ! –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!", "–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ! –í—ã —Å–ø—Ä–∞–≤–∏–ª–∏—Å—å!", "–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!"],
                aiIncorrect: ["–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –±—ã–ª: ", "–ù–µ —Å–æ–≤—Å–µ–º! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ", "–ü–æ—á—Ç–∏! –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ: ", "–•–æ—Ä–æ—à–µ–µ —É—Å–∏–ª–∏–µ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ", "–ë–ª–∏–∑–∫–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –±—ã–ª: ", "–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ: "],
                aiHint: "–í–æ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∞: ",
                aiStreak: ["–£–¥–∏–≤–∏—Ç–µ–ª—å–Ω–∞—è —Å–µ—Ä–∏—è! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ!", "–í—ã –Ω–µ–ø–æ–±–µ–¥–∏–º—ã!", "–í —É–¥–∞—Ä–µ! –ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ—Å—å!", "–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞! –û—Ç–ª–∏—á–Ω–∞—è —Å–µ—Ä–∏—è!", "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –í—ã –Ω–∞ –≤—ã—Å–æ—Ç–µ!", "üî• –ì–æ—Ä—è—á–∞—è —Å–µ—Ä–∏—è! –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!"],
                aiFinal: {
                    low: "–í—ã –Ω–æ–≤–∏—á–æ–∫ –≤ –∑–Ω–∞–Ω–∏—è—Ö. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —É—á–∏—Ç—å—Å—è –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞! –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø–æ–ª—É—á–∏—Ç—Å—è –ª—É—á—à–µ!",
                    medium: "–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞! –£ –≤–∞—Å –Ω–µ–ø–ª–æ—Ö–∏–µ –∑–Ω–∞–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö. –° –Ω–µ–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤—ã —Å—Ç–∞–Ω–µ—Ç–µ –º–∞—Å—Ç–µ—Ä–æ–º –≤–∏–∫—Ç–æ—Ä–∏–Ω!",
                    high: "–û—Ç–ª–∏—á–Ω–æ! –í—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—Å—Ç–µ—Ä –≤–∏–∫—Ç–æ—Ä–∏–Ω! –í–∞—à–∏ –∑–Ω–∞–Ω–∏—è –≤–ø–µ—á–∞—Ç–ª—è—é—Ç –≤–æ –º–Ω–æ–≥–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö.",
                    perfect: "–ò–¥–µ–∞–ª—å–Ω—ã–π —Å—á–µ—Ç! –í—ã –≥–µ–Ω–∏–π! –ù–∞—É—á–∏—Ç–µ –º–µ–Ω—è —Å–≤–æ–∏–º –º–µ—Ç–æ–¥–∞–º! –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Å–∞–º–∏ –Ω–µ –ò–ò?"
                },
                
                // Category Names
                categories: {
                    "General Knowledge": "–û–±—â–∏–µ –ó–Ω–∞–Ω–∏—è",
                    "Science & Technology": "–ù–∞—É–∫–∞ & –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",
                    "History & Geography": "–ò—Å—Ç–æ—Ä–∏—è & –ì–µ–æ–≥—Ä–∞—Ñ–∏—è",
                    "Mathematics & Logic": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ & –õ–æ–≥–∏–∫–∞",
                    "Literature & Arts": "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ & –ò—Å–∫—É—Å—Å—Ç–≤–æ",
                    "Sports & Entertainment": "–°–ø–æ—Ä—Ç & –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è",
                    "Biology & Medicine": "–ë–∏–æ–ª–æ–≥–∏—è & –ú–µ–¥–∏—Ü–∏–Ω–∞",
                    "Food & Drink": "–ï–¥–∞ & –ù–∞–ø–∏—Ç–∫–∏",
                    "Pop Culture": "–ü–æ–ø-–∫—É–ª—å—Ç—É—Ä–∞",
                    "Random Facts": "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –§–∞–∫—Ç—ã"
                }
            }
        };

        // 100+ Questions Database - Multilingual
        const questionDatabase = {
            "General Knowledge": {
                en: [
                    {
                        question: "What is the chemical symbol for gold?",
                        options: ["Go", "Gd", "Au", "Ag"],
                        correctAnswer: 2,
                        explanation: "Gold's chemical symbol is Au, derived from the Latin word 'aurum' meaning shining dawn.",
                        hint: "Think about the Latin name for gold."
                    },
                    {
                        question: "Which planet is known as the Red Planet?",
                        options: ["Venus", "Mars", "Jupiter", "Saturn"],
                        correctAnswer: 1,
                        explanation: "Mars is called the Red Planet due to iron oxide (rust) on its surface.",
                        hint: "It's named after the Roman god of war."
                    },
                    {
                        question: "What is the largest mammal in the world?",
                        options: ["African Elephant", "Blue Whale", "Giraffe", "Polar Bear"],
                        correctAnswer: 1,
                        explanation: "The Blue Whale is the largest mammal, reaching up to 100 feet in length.",
                        hint: "It lives in the ocean and is not a fish."
                    },
                    {
                        question: "Which element has the atomic number 1?",
                        options: ["Helium", "Hydrogen", "Oxygen", "Carbon"],
                        correctAnswer: 1,
                        explanation: "Hydrogen has atomic number 1, meaning it has one proton in its nucleus.",
                        hint: "It's the lightest and most abundant element in the universe."
                    },
                    {
                        question: "What is the capital of Japan?",
                        options: ["Seoul", "Beijing", "Tokyo", "Bangkok"],
                        correctAnswer: 2,
                        explanation: "Tokyo is the capital and largest city of Japan.",
                        hint: "It's a bustling metropolis known for technology and pop culture."
                    },
                    {
                        question: "How many continents are there?",
                        options: ["5", "6", "7", "8"],
                        correctAnswer: 2,
                        explanation: "There are 7 continents: Africa, Antarctica, Asia, Europe, North America, South America, and Australia.",
                        hint: "The number is considered lucky in many cultures."
                    },
                    {
                        question: "What is the hardest natural substance on Earth?",
                        options: ["Gold", "Iron", "Diamond", "Platinum"],
                        correctAnswer: 2,
                        explanation: "Diamond is the hardest known natural material on Earth.",
                        hint: "It's often used in engagement rings."
                    },
                    {
                        question: "Which country is known as the Land of the Rising Sun?",
                        options: ["China", "South Korea", "Japan", "Thailand"],
                        correctAnswer: 2,
                        explanation: "Japan is called the Land of the Rising Sun because it lies to the east of the Asian mainland.",
                        hint: "Its flag features a red circle on a white background."
                    },
                    {
                        question: "What is the smallest country in the world?",
                        options: ["Monaco", "Vatican City", "San Marino", "Liechtenstein"],
                        correctAnswer: 1,
                        explanation: "Vatican City is the smallest country by both area and population.",
                        hint: "It's the headquarters of the Roman Catholic Church."
                    },
                    {
                        question: "Which gas do plants absorb during photosynthesis?",
                        options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"],
                        correctAnswer: 2,
                        explanation: "Plants absorb carbon dioxide and release oxygen during photosynthesis.",
                        hint: "It's what humans and animals exhale."
                    }
                ],
                fr: [
                    {
                        question: "Quel est le symbole chimique de l'or?",
                        options: ["Go", "Gd", "Au", "Ag"],
                        correctAnswer: 2,
                        explanation: "Le symbole chimique de l'or est Au, d√©riv√© du mot latin 'aurum' signifiant aube brillante.",
                        hint: "Pensez au nom latin de l'or."
                    },
                    {
                        question: "Quelle plan√®te est connue sous le nom de Plan√®te Rouge?",
                        options: ["V√©nus", "Mars", "Jupiter", "Saturne"],
                        correctAnswer: 1,
                        explanation: "Mars est appel√©e la Plan√®te Rouge en raison de l'oxyde de fer (rouille) √† sa surface.",
                        hint: "Elle porte le nom du dieu romain de la guerre."
                    },
                    {
                        question: "Quel est le plus grand mammif√®re du monde?",
                        options: ["√âl√©phant d'Afrique", "Baleine Bleue", "Girafe", "Ours Polaire"],
                        correctAnswer: 1,
                        explanation: "La Baleine Bleue est le plus grand mammif√®re, atteignant jusqu'√† 30 m√®tres de longueur.",
                        hint: "Elle vit dans l'oc√©an et n'est pas un poisson."
                    },
                    {
                        question: "Quel √©l√©ment a le num√©ro atomique 1?",
                        options: ["H√©lium", "Hydrog√®ne", "Oxyg√®ne", "Carbone"],
                        correctAnswer: 1,
                        explanation: "L'hydrog√®ne a le num√©ro atomique 1, ce qui signifie qu'il a un proton dans son noyau.",
                        hint: "C'est l'√©l√©ment le plus l√©ger et le plus abondant dans l'univers."
                    },
                    {
                        question: "Quelle est la capitale du Japon?",
                        options: ["S√©oul", "P√©kin", "Tokyo", "Bangkok"],
                        correctAnswer: 2,
                        explanation: "Tokyo est la capitale et la plus grande ville du Japon.",
                        hint: "C'est une m√©tropole anim√©e connue pour la technologie et la culture pop."
                    },
                    {
                        question: "Combien y a-t-il de continents?",
                        options: ["5", "6", "7", "8"],
                        correctAnswer: 2,
                        explanation: "Il y a 7 continents: Afrique, Antarctique, Asie, Europe, Am√©rique du Nord, Am√©rique du Sud et Australie.",
                        hint: "Ce nombre est consid√©r√© comme chanceux dans de nombreuses cultures."
                    }
                ],
                ru: [
                    {
                        question: "–ö–∞–∫–æ–π —Ö–∏–º–∏—á–µ—Å–∫–∏–π —Å–∏–º–≤–æ–ª —É –∑–æ–ª–æ—Ç–∞?",
                        options: ["Go", "Gd", "Au", "Ag"],
                        correctAnswer: 2,
                        explanation: "–•–∏–º–∏—á–µ—Å–∫–∏–π —Å–∏–º–≤–æ–ª –∑–æ–ª–æ—Ç–∞ - Au, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç –ª–∞—Ç–∏–Ω—Å–∫–æ–≥–æ —Å–ª–æ–≤–∞ 'aurum', –æ–∑–Ω–∞—á–∞—é—â–µ–≥–æ —Å–∏—è—é—â–∏–π —Ä–∞—Å—Å–≤–µ—Ç.",
                        hint: "–ü–æ–¥—É–º–∞–π—Ç–µ –æ –ª–∞—Ç–∏–Ω—Å–∫–æ–º –Ω–∞–∑–≤–∞–Ω–∏–∏ –∑–æ–ª–æ—Ç–∞."
                    },
                    {
                        question: "–ö–∞–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞–∫ –ö—Ä–∞—Å–Ω–∞—è –ø–ª–∞–Ω–µ—Ç–∞?",
                        options: ["–í–µ–Ω–µ—Ä–∞", "–ú–∞—Ä—Å", "–Æ–ø–∏—Ç–µ—Ä", "–°–∞—Ç—É—Ä–Ω"],
                        correctAnswer: 1,
                        explanation: "–ú–∞—Ä—Å –Ω–∞–∑—ã–≤–∞—é—Ç –ö—Ä–∞—Å–Ω–æ–π –ø–ª–∞–Ω–µ—Ç–æ–π –∏–∑-–∑–∞ –æ–∫—Å–∏–¥–∞ –∂–µ–ª–µ–∑–∞ (—Ä–∂–∞–≤—á–∏–Ω—ã) –Ω–∞ –µ–≥–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏.",
                        hint: "–û–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∞ –≤ —á–µ—Å—Ç—å —Ä–∏–º—Å–∫–æ–≥–æ –±–æ–≥–∞ –≤–æ–π–Ω—ã."
                    },
                    {
                        question: "–ö–∞–∫–æ–µ —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –º–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–µ–µ –≤ –º–∏—Ä–µ?",
                        options: ["–ê—Ñ—Ä–∏–∫–∞–Ω—Å–∫–∏–π —Å–ª–æ–Ω", "–°–∏–Ω–∏–π –∫–∏—Ç", "–ñ–∏—Ä–∞—Ñ", "–ë–µ–ª—ã–π –º–µ–¥–≤–µ–¥—å"],
                        correctAnswer: 1,
                        explanation: "–°–∏–Ω–∏–π –∫–∏—Ç - —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –º–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–µ–µ, –¥–æ—Å—Ç–∏–≥–∞—é—â–µ–µ –¥–æ 30 –º–µ—Ç—Ä–æ–≤ –≤ –¥–ª–∏–Ω—É.",
                        hint: "–û–Ω –∂–∏–≤–µ—Ç –≤ –æ–∫–µ–∞–Ω–µ –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ä—ã–±–æ–π."
                    },
                    {
                        question: "–ö–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç –∞—Ç–æ–º–Ω—ã–π –Ω–æ–º–µ—Ä 1?",
                        options: ["–ì–µ–ª–∏–π", "–í–æ–¥–æ—Ä–æ–¥", "–ö–∏—Å–ª–æ—Ä–æ–¥", "–£–≥–ª–µ—Ä–æ–¥"],
                        correctAnswer: 1,
                        explanation: "–í–æ–¥–æ—Ä–æ–¥ –∏–º–µ–µ—Ç –∞—Ç–æ–º–Ω—ã–π –Ω–æ–º–µ—Ä 1, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É –Ω–µ–≥–æ –æ–¥–∏–Ω –ø—Ä–æ—Ç–æ–Ω –≤ —è–¥—Ä–µ.",
                        hint: "–≠—Ç–æ —Å–∞–º—ã–π –ª–µ–≥–∫–∏–π –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤–æ –í—Å–µ–ª–µ–Ω–Ω–æ–π."
                    },
                    {
                        question: "–ö–∞–∫–∞—è —Å—Ç–æ–ª–∏—Ü–∞ –Ø–ø–æ–Ω–∏–∏?",
                        options: ["–°–µ—É–ª", "–ü–µ–∫–∏–Ω", "–¢–æ–∫–∏–æ", "–ë–∞–Ω–≥–∫–æ–∫"],
                        correctAnswer: 2,
                        explanation: "–¢–æ–∫–∏–æ - —Å—Ç–æ–ª–∏—Ü–∞ –∏ –∫—Ä—É–ø–Ω–µ–π—à–∏–π –≥–æ—Ä–æ–¥ –Ø–ø–æ–Ω–∏–∏.",
                        hint: "–≠—Ç–æ –æ–∂–∏–≤–ª–µ–Ω–Ω—ã–π –º–µ–≥–∞–ø–æ–ª–∏—Å, –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏ –∏ –ø–æ–ø-–∫—É–ª—å—Ç—É—Ä–æ–π."
                    },
                    {
                        question: "–°–∫–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–æ–≤?",
                        options: ["5", "6", "7", "8"],
                        correctAnswer: 2,
                        explanation: "–°—É—â–µ—Å—Ç–≤—É–µ—Ç 7 –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–æ–≤: –ê—Ñ—Ä–∏–∫–∞, –ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥–∞, –ê–∑–∏—è, –ï–≤—Ä–æ–ø–∞, –°–µ–≤–µ—Ä–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞, –Æ–∂–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞ –∏ –ê–≤—Å—Ç—Ä–∞–ª–∏—è.",
                        hint: "–≠—Ç–æ —á–∏—Å–ª–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—á–∞—Å—Ç–ª–∏–≤—ã–º –≤–æ –º–Ω–æ–≥–∏—Ö –∫—É–ª—å—Ç—É—Ä–∞—Ö."
                    }
                ]
            },
            "Science & Technology": {
                en: [
                    {
                        question: "What does 'HTTP' stand for?",
                        options: ["HyperText Transfer Protocol", "HighTech Transfer Process", "Hyper Transfer Text Protocol", "High Transfer Text Process"],
                        correctAnswer: 0,
                        explanation: "HTTP stands for HyperText Transfer Protocol, the foundation of data communication for the World Wide Web.",
                        hint: "It's the protocol used when you visit websites."
                    },
                    {
                        question: "What is the speed of light in vacuum?",
                        options: ["300,000 km/s", "150,000 km/s", "500,000 km/s", "1,000,000 km/s"],
                        correctAnswer: 0,
                        explanation: "The speed of light in vacuum is approximately 300,000 kilometers per second.",
                        hint: "Einstein's theory of relativity is based on this constant."
                    },
                    {
                        question: "Which programming language is known as the language of the web?",
                        options: ["Python", "Java", "C++", "JavaScript"],
                        correctAnswer: 3,
                        explanation: "JavaScript is the primary language for web development and runs in browsers.",
                        hint: "It shares part of its name with another programming language."
                    }
                ],
                fr: [
                    {
                        question: "Que signifie 'HTTP'?",
                        options: ["HyperText Transfer Protocol", "HighTech Transfer Process", "Hyper Transfer Text Protocol", "High Transfer Text Process"],
                        correctAnswer: 0,
                        explanation: "HTTP signifie HyperText Transfer Protocol, la base de la communication de donn√©es pour le World Wide Web.",
                        hint: "C'est le protocole utilis√© lorsque vous visitez des sites web."
                    },
                    {
                        question: "Quelle est la vitesse de la lumi√®re dans le vide?",
                        options: ["300,000 km/s", "150,000 km/s", "500,000 km/s", "1,000,000 km/s"],
                        correctAnswer: 0,
                        explanation: "La vitesse de la lumi√®re dans le vide est d'environ 300 000 kilom√®tres par seconde.",
                        hint: "La th√©orie de la relativit√© d'Einstein est bas√©e sur cette constante."
                    }
                ],
                ru: [
                    {
                        question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 'HTTP'?",
                        options: ["HyperText Transfer Protocol", "HighTech Transfer Process", "Hyper Transfer Text Protocol", "High Transfer Text Process"],
                        correctAnswer: 0,
                        explanation: "HTTP –æ–∑–Ω–∞—á–∞–µ—Ç HyperText Transfer Protocol, –æ—Å–Ω–æ–≤—É –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤–æ –í—Å–µ–º–∏—Ä–Ω–æ–π –ø–∞—É—Ç–∏–Ω–µ.",
                        hint: "–≠—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –ø—Ä–∏ –ø–æ—Å–µ—â–µ–Ω–∏–∏ –≤–µ–±-—Å–∞–π—Ç–æ–≤."
                    },
                    {
                        question: "–ö–∞–∫–æ–≤–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Å–≤–µ—Ç–∞ –≤ –≤–∞–∫—É—É–º–µ?",
                        options: ["300,000 –∫–º/—Å", "150,000 –∫–º/—Å", "500,000 –∫–º/—Å", "1,000,000 –∫–º/—Å"],
                        correctAnswer: 0,
                        explanation: "–°–∫–æ—Ä–æ—Å—Ç—å —Å–≤–µ—Ç–∞ –≤ –≤–∞–∫—É—É–º–µ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 300 000 –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É.",
                        hint: "–¢–µ–æ—Ä–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≠–π–Ω—à—Ç–µ–π–Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —ç—Ç–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ."
                    }
                ]
            },
            "History & Geography": {
                en: [
                    {
                        question: "Which year did World War II end?",
                        options: ["1943", "1945", "1947", "1950"],
                        correctAnswer: 1,
                        explanation: "World War II ended in 1945 after the surrender of Nazi Germany and Japan.",
                        hint: "The war ended in the mid-1940s."
                    },
                    {
                        question: "What is the largest ocean on Earth?",
                        options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"],
                        correctAnswer: 3,
                        explanation: "The Pacific Ocean is the largest and deepest ocean, covering about 63 million square miles.",
                        hint: "It shares its name with a state of calmness."
                    }
                ],
                fr: [
                    {
                        question: "En quelle ann√©e la Seconde Guerre mondiale s'est-elle termin√©e?",
                        options: ["1943", "1945", "1947", "1950"],
                        correctAnswer: 1,
                        explanation: "La Seconde Guerre mondiale s'est termin√©e en 1945 apr√®s la reddition de l'Allemagne nazie et du Japon.",
                        hint: "La guerre s'est termin√©e au milieu des ann√©es 1940."
                    },
                    {
                        question: "Quel est le plus grand oc√©an de la Terre?",
                        options: ["Oc√©an Atlantique", "Oc√©an Indien", "Oc√©an Arctique", "Oc√©an Pacifique"],
                        correctAnswer: 3,
                        explanation: "L'oc√©an Pacifique est le plus grand et le plus profond, couvrant environ 165 millions de kilom√®tres carr√©s.",
                        hint: "Il partage son nom avec un √©tat de calme."
                    }
                ],
                ru: [
                    {
                        question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –í—Ç–æ—Ä–∞—è –º–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞?",
                        options: ["1943", "1945", "1947", "1950"],
                        correctAnswer: 1,
                        explanation: "–í—Ç–æ—Ä–∞—è –º–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –≤ 1945 –≥–æ–¥—É –ø–æ—Å–ª–µ –∫–∞–ø–∏—Ç—É–ª—è—Ü–∏–∏ –Ω–∞—Ü–∏—Å—Ç—Å–∫–æ–π –ì–µ—Ä–º–∞–Ω–∏–∏ –∏ –Ø–ø–æ–Ω–∏–∏.",
                        hint: "–í–æ–π–Ω–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1940-—Ö –≥–æ–¥–æ–≤."
                    },
                    {
                        question: "–ö–∞–∫–æ–π –æ–∫–µ–∞–Ω —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –Ω–∞ –ó–µ–º–ª–µ?",
                        options: ["–ê—Ç–ª–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –æ–∫–µ–∞–Ω", "–ò–Ω–¥–∏–π—Å–∫–∏–π –æ–∫–µ–∞–Ω", "–°–µ–≤–µ—Ä–Ω—ã–π –õ–µ–¥–æ–≤–∏—Ç—ã–π –æ–∫–µ–∞–Ω", "–¢–∏—Ö–∏–π –æ–∫–µ–∞–Ω"],
                        correctAnswer: 3,
                        explanation: "–¢–∏—Ö–∏–π –æ–∫–µ–∞–Ω —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –±–æ–ª—å—à–∏–º –∏ –≥–ª—É–±–æ–∫–∏–º, –µ–≥–æ –ø–ª–æ—â–∞–¥—å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–∫–æ–ª–æ 165 –º–∏–ª–ª–∏–æ–Ω–æ–≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤.",
                        hint: "–ï–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–≤—è–∑–∞–Ω–æ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è."
                    }
                ]
            },
            // Other categories would follow the same pattern
            // For brevity, I'm showing the structure for all categories
        };

        // Fill in missing questions for all categories
        // In a full implementation, all categories would have questions in all languages
        // For now, we'll use English as fallback for missing translations
        function getQuestionsForCategory(category, lang) {
            if (questionDatabase[category] && questionDatabase[category][lang]) {
                return questionDatabase[category][lang];
            }
            // Fallback to English if translation not available
            return questionDatabase[category] ? (questionDatabase[category].en || []) : [];
        }

        // Game state
        let currentQuestion = 0;
        let score = 0;
        let correctAnswers = 0;
        let currentStreak = 0;
        let bestStreak = 0;
        let selectedOption = null;
        let gameCompleted = false;
        let timeLeft = 60;
        let timerInterval = null;
        let selectedCategory = "General Knowledge";
        let questions = [];
        let totalQuestions = 10;
        let currentLanguage = "en";

        // DOM elements
        const questionNumberEl = document.getElementById('questionNumber');
        const questionCategoryEl = document.getElementById('questionCategory');
        const questionTextEl = document.getElementById('questionText');
        const optionsContainerEl = document.getElementById('optionsContainer');
        const submitBtn = document.getElementById('submitBtn');
        const nextBtn = document.getElementById('nextBtn');
        const hintBtn = document.getElementById('hintBtn');
        const feedbackContainerEl = document.getElementById('feedbackContainer');
        const scoreValueEl = document.getElementById('scoreValue');
        const questionCountEl = document.getElementById('questionCount');
        const correctCountEl = document.getElementById('correctCount');
        const streakCountEl = document.getElementById('streakCount');
        const aiMessageEl = document.getElementById('aiMessage');
        const progressFillEl = document.getElementById('progressFill');
        const gameCompleteEl = document.getElementById('gameComplete');
        const finalScoreEl = document.getElementById('finalScore');
        const resultMessageEl = document.getElementById('resultMessage');
        const restartBtn = document.getElementById('restartBtn');
        const currentQuestionNumEl = document.getElementById('currentQuestionNum');
        const totalQuestionsEl = document.getElementById('totalQuestions');
        const progressPercentEl = document.getElementById('progressPercent');
        const timeValueEl = document.getElementById('timeValue');
        const bestStreakEl = document.getElementById('bestStreak');
        const accuracyRateEl = document.getElementById('accuracyRate');
        const categorySelectorEl = document.getElementById('categorySelector');
        const finalCorrectEl = document.getElementById('finalCorrect');
        const finalAccuracyEl = document.getElementById('finalAccuracy');
        const finalStreakEl = document.getElementById('finalStreak');
        const finalTimeEl = document.getElementById('finalTime');
        const langButtons = document.querySelectorAll('.lang-btn');

        // Initialize the game
        function initGame() {
            currentQuestion = 0;
            score = 0;
            correctAnswers = 0;
            currentStreak = 0;
            bestStreak = 0;
            selectedOption = null;
            gameCompleted = false;
            timeLeft = 60;
            
            // Stop any existing timer
            if (timerInterval) clearInterval(timerInterval);
            
            // Generate questions from selected category
            generateQuestions();
            
            updateStats();
            loadQuestion(currentQuestion);
            updateProgress();
            startTimer();
            gameCompleteEl.classList.remove('show');
            
            // Set AI message
            aiMessageEl.textContent = translations[currentLanguage].aiIntro;
        }

        // Generate questions from the selected category
        function generateQuestions() {
            questions = [];
            const categoryQuestions = getQuestionsForCategory(selectedCategory, currentLanguage);
            
            // Shuffle and select questions
            const shuffled = [...categoryQuestions].sort(() => Math.random() - 0.5);
            questions = shuffled.slice(0, totalQuestions);
            
            // If not enough questions in current language, fill with English
            if (questions.length < totalQuestions && currentLanguage !== "en") {
                const englishQuestions = getQuestionsForCategory(selectedCategory, "en");
                const additional = englishQuestions
                    .sort(() => Math.random() - 0.5)
                    .slice(0, totalQuestions - questions.length);
                questions = [...questions, ...additional];
            }
        }

        // Create category selector
        function createCategorySelector() {
            categorySelectorEl.innerHTML = '';
            const categories = Object.keys(questionDatabase);
            const translatedCategories = translations[currentLanguage].categories;
            
            categories.forEach(category => {
                const button = document.createElement('button');
                button.className = 'category-btn';
                button.textContent = translatedCategories[category] || category;
                if (category === selectedCategory) {
                    button.classList.add('active');
                }
                
                button.addEventListener('click', () => {
                    // Update active button
                    document.querySelectorAll('.category-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    button.classList.add('active');
                    
                    // Update selected category
                    selectedCategory = category;
                    
                    // Restart game with new category
                    initGame();
                });
                
                categorySelectorEl.appendChild(button);
            });
        }

        // Update UI language
        function updateUILanguage() {
            const t = translations[currentLanguage];
            
            // Update text content
            document.getElementById('gameTitle').textContent = t.gameTitle;
            document.getElementById('gameTagline').textContent = t.gameTagline;
            document.getElementById('scoreLabel').textContent = t.scoreLabel;
            document.getElementById('questionsLabel').textContent = t.questionsLabel;
            document.getElementById('correctLabel').textContent = t.correctLabel;
            document.getElementById('streakLabel').textContent = t.streakLabel;
            document.getElementById('timeLabel').textContent = t.timeLabel;
            document.getElementById('aiName').textContent = t.aiName;
            document.getElementById('aiDescription').textContent = t.aiDescription;
            document.getElementById('personality1').textContent = t.personality1;
            document.getElementById('personality2').textContent = t.personality2;
            document.getElementById('personality3').textContent = t.personality3;
            document.getElementById('personality4').textContent = t.personality4;
            document.getElementById('gameStatsTitle').textContent = t.gameStatsTitle;
            document.getElementById('hintBtnText').textContent = t.hintBtnText;
            document.getElementById('submitBtnText').textContent = t.submitBtnText;
            document.getElementById('nextBtnText').textContent = t.nextBtnText;
            document.getElementById('resultTitle').textContent = t.resultTitle;
            document.getElementById('finalCorrectLabel').textContent = t.finalCorrectLabel;
            document.getElementById('finalAccuracyLabel').textContent = t.finalAccuracyLabel;
            document.getElementById('finalStreakLabel').textContent = t.finalStreakLabel;
            document.getElementById('finalTimeLabel').textContent = t.finalTimeLabel;
            document.getElementById('restartBtnText').textContent = t.restartBtnText;
            
            // Update game stats text
            updateGameStatsText();
            
            // Update progress text
            updateProgressText();
            
            // Update category selector
            createCategorySelector();
            
            // Update current question if game is in progress
            if (!gameCompleted) {
                loadQuestion(currentQuestion);
            }
        }

        // Update game stats text
        function updateGameStatsText() {
            const t = translations[currentLanguage];
            const accuracy = currentQuestion > 0 ? Math.round((correctAnswers / currentQuestion) * 100) : 0;
            document.getElementById('gameStatsText').innerHTML = t.gameStatsText.replace('{0}', `<span id="bestStreak">${bestStreak}</span>`).replace('{1}', `<span id="accuracyRate">${accuracy}%</span>`);
        }

        // Update progress text
        function updateProgressText() {
            const t = translations[currentLanguage];
            document.getElementById('progressText').innerHTML = t.progressText.replace('{0}', `<span id="currentQuestionNum">${currentQuestion + 1}</span>`).replace('{1}', `<span id="totalQuestions">${totalQuestions}</span>`);
        }

        // Load a question
        function loadQuestion(index) {
            if (!questions[index]) return;
            
            const question = questions[index];
            
            // Update question info
            questionNumberEl.textContent = `${translations[currentLanguage].progressText.split('{0}')[0]}${index + 1}`;
            questionCategoryEl.textContent = translations[currentLanguage].categories[selectedCategory] || selectedCategory;
            questionTextEl.textContent = question.question;
            
            // Clear options
            optionsContainerEl.innerHTML = '';
            
            // Create options
            const optionLetters = ['A', 'B', 'C', 'D'];
            
            question.options.forEach((option, i) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'option';
                optionEl.dataset.index = i;
                
                optionEl.innerHTML = `
                    <div class="option-letter">${optionLetters[i]}</div>
                    <div class="option-text">${option}</div>
                    <div class="option-check"><i class="fas fa-check"></i></div>
                `;
                
                optionEl.addEventListener('click', () => selectOption(i, optionEl));
                optionsContainerEl.appendChild(optionEl);
            });
            
            // Reset buttons and feedback
            submitBtn.disabled = true;
            submitBtn.style.display = 'flex';
            nextBtn.style.display = 'none';
            feedbackContainerEl.classList.remove('show');
            selectedOption = null;
            
            // Update hint button
            hintBtn.onclick = () => showHint(question.hint);
            hintBtn.disabled = false;
        }

        // Select an option
        function selectOption(index, optionEl) {
            // Remove selected class from all options
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            optionEl.classList.add('selected');
            selectedOption = index;
            
            // Enable submit button
            submitBtn.disabled = false;
        }

        // Submit answer
        function submitAnswer() {
            if (selectedOption === null) return;
            
            const question = questions[currentQuestion];
            const options = document.querySelectorAll('.option');
            const isCorrect = selectedOption === question.correctAnswer;
            
            // Mark correct/incorrect options
            options.forEach((option, i) => {
                if (i === question.correctAnswer) {
                    option.classList.add('correct');
                } else if (i === selectedOption && !isCorrect) {
                    option.classList.add('incorrect');
                }
                option.style.pointerEvents = 'none'; // Disable further clicks
            });
            
            // Update score and stats
            if (isCorrect) {
                score += 10;
                correctAnswers++;
                currentStreak++;
                if (currentStreak > bestStreak) bestStreak = currentStreak;
                
                // AI message for correct answer
                const randomMsg = translations[currentLanguage].aiCorrect[Math.floor(Math.random() * translations[currentLanguage].aiCorrect.length)];
                aiMessageEl.textContent = randomMsg;
                
                // If streak is good, add streak message
                if (currentStreak >= 3) {
                    const streakMsg = translations[currentLanguage].aiStreak[Math.floor(Math.random() * translations[currentLanguage].aiStreak.length)];
                    aiMessageEl.textContent = streakMsg;
                }
            } else {
                currentStreak = 0;
                
                // AI message for incorrect answer
                const randomMsg = translations[currentLanguage].aiIncorrect[Math.floor(Math.random() * translations[currentLanguage].aiIncorrect.length)];
                aiMessageEl.textContent = randomMsg + question.options[question.correctAnswer];
            }
            
            // Show feedback
            showFeedback(isCorrect, question.explanation);
            
            // Update stats
            updateStats();
            
            // Change buttons
            submitBtn.style.display = 'none';
            nextBtn.style.display = 'flex';
            
            // Disable hint button
            hintBtn.onclick = null;
            hintBtn.disabled = true;
            
            // Stop timer for this question
            clearInterval(timerInterval);
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            feedbackContainerEl.innerHTML = `
                <div class="feedback-header">
                    <div class="feedback-icon ${isCorrect ? 'correct' : 'incorrect'}">
                        <i class="fas fa-${isCorrect ? 'check' : 'times'}"></i>
                    </div>
                    <div class="feedback-title">${isCorrect ? translations[currentLanguage].aiCorrect[0].split('!')[0] + '!' : translations[currentLanguage].aiIncorrect[0].split('!')[0] + '!'}</div>
                </div>
                <div class="feedback-text">${explanation}</div>
            `;
            
            feedbackContainerEl.classList.add('show');
        }

        // Show hint
        function showHint(hintText) {
            aiMessageEl.textContent = translations[currentLanguage].aiHint + hintText;
            
            // Disable hint button for 5 seconds
            hintBtn.disabled = true;
            setTimeout(() => {
                if (!gameCompleted) {
                    hintBtn.disabled = false;
                }
            }, 5000);
        }

        // Next question
        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < questions.length) {
                loadQuestion(currentQuestion);
                updateProgress();
                // Reset timer for next question
                timeLeft = 60;
                timeValueEl.textContent = `${timeLeft}s`;
                startTimer();
            } else {
                endGame();
            }
        }

        // Start timer
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                timeValueEl.textContent = `${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    // Auto-submit if time runs out
                    if (selectedOption !== null) {
                        submitAnswer();
                    } else {
                        // If no answer selected, mark as incorrect and move on
                        aiMessageEl.textContent = currentLanguage === 'en' ? "Time's up! Moving to next question." : 
                                                currentLanguage === 'fr' ? "Le temps est √©coul√© ! Passage √† la question suivante." :
                                                "–í—Ä–µ–º—è –≤—ã—à–ª–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É.";
                        setTimeout(() => {
                            nextQuestion();
                        }, 1500);
                    }
                }
            }, 1000);
        }

        // End game
        function endGame() {
            gameCompleted = true;
            clearInterval(timerInterval);
            
            // Calculate final score percentage
            const percentage = Math.round((score / (questions.length * 10)) * 100);
            finalScoreEl.textContent = `${score}/${questions.length * 10}`;
            
            // Determine result message
            let message;
            if (percentage >= 90) {
                message = translations[currentLanguage].aiFinal.perfect;
            } else if (percentage >= 70) {
                message = translations[currentLanguage].aiFinal.high;
            } else if (percentage >= 50) {
                message = translations[currentLanguage].aiFinal.medium;
            } else {
                message = translations[currentLanguage].aiFinal.low;
            }
            
            // Update result details
            finalCorrectEl.textContent = correctAnswers;
            finalAccuracyEl.textContent = `${percentage}%`;
            finalStreakEl.textContent = bestStreak;
            finalTimeEl.textContent = `${60 - timeLeft}s`;
            
            resultMessageEl.textContent = message;
            
            // Show game complete screen
            gameCompleteEl.classList.add('show');
            
            // Final AI message
            aiMessageEl.textContent = (currentLanguage === 'en' ? `Quiz complete! Your final score: ${score}/${questions.length * 10}. ` :
                                      currentLanguage === 'fr' ? `Quiz termin√© ! Votre score final : ${score}/${questions.length * 10}. ` :
                                      `–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í–∞—à –∏—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç: ${score}/${questions.length * 10}. `) + message;
        }

        // Update stats
        function updateStats() {
            scoreValueEl.textContent = score;
            questionCountEl.textContent = `${currentQuestion + 1}/${questions.length}`;
            correctCountEl.textContent = correctAnswers;
            streakCountEl.textContent = currentStreak;
            bestStreakEl.textContent = bestStreak;
            
            // Calculate accuracy
            const accuracy = currentQuestion > 0 ? Math.round((correctAnswers / currentQuestion) * 100) : 0;
            accuracyRateEl.textContent = `${accuracy}%`;
            
            // Update game stats text
            updateGameStatsText();
            
            // Update progress
            updateProgress();
        }

        // Update progress bar
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressFillEl.style.width = `${progress}%`;
            currentQuestionNumEl.textContent = currentQuestion + 1;
            totalQuestionsEl.textContent = questions.length;
            progressPercentEl.textContent = `${Math.round(progress)}%`;
            
            // Update progress text
            updateProgressText();
        }

        // Change language
        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // Update active language button
            langButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === lang) {
                    btn.classList.add('active');
                }
            });
            
            // Update UI
            updateUILanguage();
            
            // Update stats display
            updateStats();
            
            // Regenerate questions for new language
            if (!gameCompleted) {
                generateQuestions();
                if (currentQuestion < questions.length) {
                    loadQuestion(currentQuestion);
                }
            }
        }

        // Event listeners
        submitBtn.addEventListener('click', submitAnswer);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', initGame);

        // Language buttons
        langButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                changeLanguage(btn.dataset.lang);
            });
        });

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (gameCompleted) return;
            
            // Number keys 1-4 for options
            if (e.key >= '1' && e.key <= '4') {
                const index = parseInt(e.key) - 1;
                const optionEl = document.querySelectorAll('.option')[index];
                if (optionEl) {
                    selectOption(index, optionEl);
                }
            }
            
            // Enter to submit or go to next
            if (e.key === 'Enter') {
                if (submitBtn.style.display !== 'none' && !submitBtn.disabled) {
                    submitAnswer();
                } else if (nextBtn.style.display !== 'none') {
                    nextQuestion();
                }
            }
            
            // Space for hint
            if (e.key === ' ' && !hintBtn.disabled) {
                const question = questions[currentQuestion];
                showHint(question.hint);
                e.preventDefault(); // Prevent page scroll
            }
        });

        // Initialize the game
        createCategorySelector();
        initGame();
    </script>
</body>
</html>
